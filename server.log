2025-12-07 10:35:36.238 | INFO     | app.routers.food:analyze_food:25 - Received image analysis request: test.jpg. Deep Search: False
2025-12-07 10:35:36.246 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:35:36.247 | INFO     | app.core.vision:analyze_food_image_with_search:34 - Identified items: ['Apple (1 medium)', 'Banana (1 small)']
2025-12-07 10:35:36.247 | INFO     | app.core.vision:analyze_food_image_with_search:37 - Step 2: Searching for items in parallel...
2025-12-07 10:35:36.247 | INFO     | app.core.vision:analyze_food_image_with_search:51 - Step 3: Synthesizing final response with advanced scripting...
2025-12-07 10:35:36.309 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:35:36.310 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 10:35:36.314 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:35:36.314 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: True
2025-12-07 10:35:36.318 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:35:36.318 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 10:35:36.319 | CRITICAL | app.core.vision:analyze_food_image_with_search:120 - Local Failsafe also failed: Local Down
2025-12-07 10:43:08.424 | INFO     | app.routers.food:analyze_food:25 - Received image analysis request: OIP (4).webp. Deep Search: False
2025-12-07 10:43:08.677 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:43:08.678 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-3-pro-preview
2025-12-07 10:43:09.198 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-3-pro-preview failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:43:09.198 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-pro
2025-12-07 10:43:09.464 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-pro failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:43:09.465 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-flash
2025-12-07 10:43:09.752 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-flash failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:43:09.753 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.0-flash-exp
2025-12-07 10:43:11.304 | SUCCESS  | app.core.intelligence:generate_content:50 - Success with model: gemini-2.0-flash-exp
2025-12-07 10:43:11.304 | INFO     | app.core.vision:analyze_food_image_with_search:34 - Identified items: ["Here's the analysis of the food image:", '*   Seekh Kebabs (6 pieces)', '*   Green Chutney (1/2 cup)', '*   Red Onion Slices (1/4 medium onion)', '*   Bell Pepper Slices (1/4 medium bell pepper)']
2025-12-07 10:43:11.304 | INFO     | app.core.vision:analyze_food_image_with_search:37 - Step 2: Searching for items in parallel...
2025-12-07 10:43:11.305 | INFO     | app.core.search:search_food_info:21 - Searching SerpAPI for: Here's the analysis of the food image: calories nutrition facts
2025-12-07 10:43:11.714 | INFO     | app.core.search:search_food_info:21 - Searching SerpAPI for: *   Seekh Kebabs (6 pieces) calories nutrition facts
2025-12-07 10:43:12.034 | INFO     | app.core.search:search_food_info:21 - Searching SerpAPI for: *   Green Chutney (1/2 cup) calories nutrition facts
2025-12-07 10:43:12.347 | INFO     | app.core.search:search_food_info:21 - Searching SerpAPI for: *   Red Onion Slices (1/4 medium onion) calories nutrition facts
2025-12-07 10:43:12.666 | INFO     | app.core.search:search_food_info:21 - Searching SerpAPI for: *   Bell Pepper Slices (1/4 medium bell pepper) calories nutrition facts
2025-12-07 10:43:13.404 | ERROR    | app.core.search:search_food_info:55 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Red+Onion+Slices+%281%2F4+medium+onion%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:43:13.434 | ERROR    | app.core.search:search_food_info:55 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Bell+Pepper+Slices+%281%2F4+medium+bell+pepper%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:43:13.440 | ERROR    | app.core.search:search_food_info:55 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Green+Chutney+%281%2F2+cup%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:43:13.986 | ERROR    | app.core.search:search_food_info:55 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=Here%27s+the+analysis+of+the+food+image%3A+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:43:14.283 | ERROR    | app.core.search:search_food_info:55 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Seekh+Kebabs+%286+pieces%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:43:14.284 | INFO     | app.core.vision:analyze_food_image_with_search:51 - Step 3: Synthesizing final response with advanced scripting...
2025-12-07 10:43:14.284 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-3-pro-preview
2025-12-07 10:43:14.580 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-3-pro-preview failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:43:14.580 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-pro
2025-12-07 10:43:14.837 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-pro failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:43:14.837 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-flash
2025-12-07 10:43:15.122 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-flash failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:43:15.123 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.0-flash-exp
2025-12-07 10:43:22.387 | SUCCESS  | app.core.intelligence:generate_content:50 - Success with model: gemini-2.0-flash-exp
2025-12-07 10:45:51.251 | INFO     | app.routers.food:analyze_food:25 - Received image analysis request: OIP (1).webp. Deep Search: True
2025-12-07 10:45:51.366 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:45:51.367 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-3-pro-preview
2025-12-07 10:45:52.050 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-3-pro-preview failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:45:52.050 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-pro
2025-12-07 10:45:52.408 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-pro failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:45:52.409 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-flash
2025-12-07 10:45:52.793 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-flash failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:45:52.794 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.0-flash-exp
2025-12-07 10:45:54.235 | SUCCESS  | app.core.intelligence:generate_content:50 - Success with model: gemini-2.0-flash-exp
2025-12-07 10:45:54.236 | INFO     | app.core.vision:analyze_food_image_with_search:34 - Identified items: ['Here are the food items and estimated portion sizes based on the image:', 'Paneer Butter Masala (250g)', 'Naan (2 pieces)', 'Cucumber slices (5 slices)']
2025-12-07 10:45:54.236 | INFO     | app.core.vision:analyze_food_image_with_search:37 - Step 2: Searching for items in parallel...
2025-12-07 10:45:54.236 | INFO     | app.core.search:search_food_info:21 - Searching SerpAPI for: Here are the food items and estimated portion sizes based on the image: calories nutrition facts
2025-12-07 10:45:54.639 | INFO     | app.core.search:search_food_info:21 - Searching SerpAPI for: Paneer Butter Masala (250g) calories nutrition facts
2025-12-07 10:45:55.017 | INFO     | app.core.search:search_food_info:21 - Searching SerpAPI for: Naan (2 pieces) calories nutrition facts
2025-12-07 10:45:55.428 | INFO     | app.core.search:search_food_info:21 - Searching SerpAPI for: Cucumber slices (5 slices) calories nutrition facts
2025-12-07 10:45:56.160 | ERROR    | app.core.search:search_food_info:55 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=Naan+%282+pieces%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:45:56.195 | ERROR    | app.core.search:search_food_info:55 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=Cucumber+slices+%285+slices%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:45:56.679 | ERROR    | app.core.search:search_food_info:55 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=Here+are+the+food+items+and+estimated+portion+sizes+based+on+the+image%3A+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:45:57.066 | ERROR    | app.core.search:search_food_info:55 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=Paneer+Butter+Masala+%28250g%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:45:57.067 | INFO     | app.core.vision:analyze_food_image_with_search:51 - Step 3: Synthesizing final response with advanced scripting...
2025-12-07 10:45:57.067 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-3-pro-preview
2025-12-07 10:45:57.452 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-3-pro-preview failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:45:57.452 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-pro
2025-12-07 10:45:57.855 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-pro failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:45:57.856 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-flash
2025-12-07 10:45:58.265 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-flash failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:45:58.265 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.0-flash-exp
2025-12-07 10:46:03.867 | SUCCESS  | app.core.intelligence:generate_content:50 - Success with model: gemini-2.0-flash-exp
2025-12-07 10:46:28.242 | INFO     | app.routers.food:analyze_food:25 - Received image analysis request: test.jpg. Deep Search: False
2025-12-07 10:46:28.253 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:46:28.253 | INFO     | app.core.vision:analyze_food_image_with_search:34 - Identified items: ['Apple (1 medium)', 'Banana (1 small)']
2025-12-07 10:46:28.253 | INFO     | app.core.vision:analyze_food_image_with_search:37 - Step 2: Searching for items in parallel...
2025-12-07 10:46:28.254 | INFO     | app.core.vision:analyze_food_image_with_search:51 - Step 3: Synthesizing final response with advanced scripting...
2025-12-07 10:46:28.262 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:46:28.262 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 10:46:28.268 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:46:28.269 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: True
2025-12-07 10:46:28.273 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:46:28.274 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 10:46:28.275 | CRITICAL | app.core.vision:analyze_food_image_with_search:120 - Local Failsafe also failed: Local Down
2025-12-07 10:47:38.489 | INFO     | app.routers.food:analyze_food:25 - Received image analysis request: OIP (2).webp. Deep Search: True
2025-12-07 10:47:38.613 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:47:38.614 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-3-pro-preview
2025-12-07 10:47:39.267 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-3-pro-preview failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:47:39.268 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-pro
2025-12-07 10:47:39.592 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-pro failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:47:39.592 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-flash
2025-12-07 10:47:39.920 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-flash failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:47:39.920 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.0-flash-exp
2025-12-07 10:47:41.670 | SUCCESS  | app.core.intelligence:generate_content:50 - Success with model: gemini-2.0-flash-exp
2025-12-07 10:47:41.671 | INFO     | app.core.vision:analyze_food_image_with_search:34 - Identified items: ["Here's the analysis of the food image:", '*   Naan Bread (2 pieces)', '*   Curry (1 cup)', '*   Red Onion (1/4 medium)', '*   Lime Wedge (1 wedge)', '*   Cilantro (small garnish)']
2025-12-07 10:47:41.671 | INFO     | app.core.vision:analyze_food_image_with_search:37 - Step 2: Searching for items in parallel...
2025-12-07 10:47:41.672 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: Here's the analysis of the food image: calories nutrition facts
2025-12-07 10:47:42.070 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: *   Naan Bread (2 pieces) calories nutrition facts
2025-12-07 10:47:42.071 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: *   Curry (1 cup) calories nutrition facts
2025-12-07 10:47:42.071 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: *   Red Onion (1/4 medium) calories nutrition facts
2025-12-07 10:47:42.071 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: *   Lime Wedge (1 wedge) calories nutrition facts
2025-12-07 10:47:42.071 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: *   Cilantro (small garnish) calories nutrition facts
2025-12-07 10:47:42.424 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 1.50s (attempt 1/2)
2025-12-07 10:47:43.487 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 1.50s (attempt 1/2)
2025-12-07 10:47:44.520 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 1.50s (attempt 1/2)
2025-12-07 10:47:45.506 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 1.50s (attempt 1/2)
2025-12-07 10:47:46.552 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 1.50s (attempt 1/2)
2025-12-07 10:47:47.670 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 1.50s (attempt 1/2)
2025-12-07 10:47:49.281 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 2.25s (attempt 2/2)
2025-12-07 10:47:49.643 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 2.25s (attempt 2/2)
2025-12-07 10:47:50.573 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 2.25s (attempt 2/2)
2025-12-07 10:47:51.530 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 2.25s (attempt 2/2)
2025-12-07 10:47:52.705 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 2.25s (attempt 2/2)
2025-12-07 10:47:53.471 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 2.25s (attempt 2/2)
2025-12-07 10:47:54.493 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=Here%27s+the+analysis+of+the+food+image%3A+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:47:56.184 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Naan+Bread+%282+pieces%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:47:56.612 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Curry+%281+cup%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:47:58.159 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Red+Onion+%281%2F4+medium%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:47:58.467 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Lime+Wedge+%281+wedge%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:47:59.538 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Cilantro+%28small+garnish%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:47:59.539 | INFO     | app.core.vision:analyze_food_image_with_search:51 - Step 3: Synthesizing final response with advanced scripting...
2025-12-07 10:47:59.539 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-3-pro-preview
2025-12-07 10:47:59.879 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-3-pro-preview failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:47:59.880 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-pro
2025-12-07 10:48:00.203 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-pro failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:48:00.203 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-flash
2025-12-07 10:48:00.529 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-flash failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:48:00.529 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.0-flash-exp
2025-12-07 10:48:06.668 | SUCCESS  | app.core.intelligence:generate_content:50 - Success with model: gemini-2.0-flash-exp
2025-12-07 10:50:28.180 | INFO     | app.routers.food:analyze_food:25 - Received image analysis request: OIP (2).webp. Deep Search: True
2025-12-07 10:50:28.299 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:50:28.300 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-3-pro-preview
2025-12-07 10:50:28.847 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-3-pro-preview failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:50:28.847 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-pro
2025-12-07 10:50:29.187 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-pro failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:50:29.187 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-flash
2025-12-07 10:50:29.527 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-flash failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:50:29.527 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.0-flash-exp
2025-12-07 10:50:30.934 | SUCCESS  | app.core.intelligence:generate_content:50 - Success with model: gemini-2.0-flash-exp
2025-12-07 10:50:30.934 | INFO     | app.core.vision:analyze_food_image_with_search:34 - Identified items: ["Here's the analysis of the food image:", '*   Naan (2 pieces)', '*   Curry (1 cup)', '*   Red Onion (1/4 medium)', '*   Lime (1/4 medium)', '*   Cilantro (small garnish)']
2025-12-07 10:50:30.934 | INFO     | app.core.vision:analyze_food_image_with_search:37 - Step 2: Searching for items in parallel...
2025-12-07 10:50:30.935 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: Here's the analysis of the food image: calories nutrition facts
2025-12-07 10:50:31.581 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: *   Naan (2 pieces) calories nutrition facts
2025-12-07 10:50:31.582 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: *   Curry (1 cup) calories nutrition facts
2025-12-07 10:50:31.582 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: *   Red Onion (1/4 medium) calories nutrition facts
2025-12-07 10:50:31.582 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: *   Lime (1/4 medium) calories nutrition facts
2025-12-07 10:50:31.582 | INFO     | app.core.search:search_food_info:37 - Searching SerpAPI for: *   Cilantro (small garnish) calories nutrition facts
2025-12-07 10:50:32.110 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 5.40s (attempt 1/5)
2025-12-07 10:50:35.285 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 5.40s (attempt 1/5)
2025-12-07 10:50:39.406 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 5.40s (attempt 1/5)
2025-12-07 10:50:42.945 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 5.40s (attempt 1/5)
2025-12-07 10:50:46.038 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 5.40s (attempt 1/5)
2025-12-07 10:50:52.501 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 5.40s (attempt 1/5)
2025-12-07 10:50:53.213 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 8.10s (attempt 2/5)
2025-12-07 10:50:57.551 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 8.10s (attempt 2/5)
2025-12-07 10:51:00.392 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 8.10s (attempt 2/5)
2025-12-07 10:51:04.332 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 8.10s (attempt 2/5)
2025-12-07 10:51:08.447 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 8.10s (attempt 2/5)
2025-12-07 10:51:11.331 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 8.10s (attempt 2/5)
2025-12-07 10:51:15.120 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 12.15s (attempt 3/5)
2025-12-07 10:51:18.751 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 12.15s (attempt 3/5)
2025-12-07 10:51:22.520 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 12.15s (attempt 3/5)
2025-12-07 10:51:26.040 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 12.15s (attempt 3/5)
2025-12-07 10:51:29.525 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 12.15s (attempt 3/5)
2025-12-07 10:51:33.203 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 12.15s (attempt 3/5)
2025-12-07 10:51:36.577 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 18.23s (attempt 4/5)
2025-12-07 10:51:42.232 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 18.23s (attempt 4/5)
2025-12-07 10:51:44.273 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 18.23s (attempt 4/5)
2025-12-07 10:51:47.969 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 18.23s (attempt 4/5)
2025-12-07 10:51:50.989 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 18.23s (attempt 4/5)
2025-12-07 10:51:54.561 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 18.23s (attempt 4/5)
2025-12-07 10:51:58.203 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 27.34s (attempt 5/5)
2025-12-07 10:52:01.769 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 27.34s (attempt 5/5)
2025-12-07 10:52:07.211 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 27.34s (attempt 5/5)
2025-12-07 10:52:09.864 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 27.34s (attempt 5/5)
2025-12-07 10:52:13.487 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 27.34s (attempt 5/5)
2025-12-07 10:52:16.297 | WARNING  | app.core.search:search_food_info:58 - SerpAPI 429 received; backing off 27.34s (attempt 5/5)
2025-12-07 10:52:26.212 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=Here%27s+the+analysis+of+the+food+image%3A+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:52:29.776 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Naan+%282+pieces%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:52:36.053 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Curry+%281+cup%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:52:39.673 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Red+Onion+%281%2F4+medium%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:52:42.404 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Lime+%281%2F4+medium%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:52:48.882 | ERROR    | app.core.search:search_food_info:90 - SerpAPI request failed: Client error '429 Too Many Requests' for url 'https://serpapi.com/search?engine=google&q=%2A+++Cilantro+%28small+garnish%29+calories+nutrition+facts&api_key=ed400e8b554527102e520a3be473544e70d5e64cd5466d42ea54f978b27af4fc&hl=en&gl=us'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-12-07 10:52:48.882 | INFO     | app.core.vision:analyze_food_image_with_search:51 - Step 3: Synthesizing final response with advanced scripting...
2025-12-07 10:52:48.886 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-3-pro-preview
2025-12-07 10:52:49.226 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-3-pro-preview failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:52:49.227 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-pro
2025-12-07 10:52:49.569 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-pro failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:52:49.569 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.5-flash
2025-12-07 10:52:49.862 | WARNING  | app.core.intelligence:generate_content:54 - Model gemini-2.5-flash failed: 403 Your API key was reported as leaked. Please use another API key.
2025-12-07 10:52:49.862 | INFO     | app.core.intelligence:generate_content:35 - Attempting generation with model: gemini-2.0-flash-exp
2025-12-07 10:52:55.385 | SUCCESS  | app.core.intelligence:generate_content:50 - Success with model: gemini-2.0-flash-exp
2025-12-07 10:57:14.699 | INFO     | app.routers.food:analyze_food:25 - Received image analysis request: test.jpg. Deep Search: False
2025-12-07 10:57:14.705 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:57:14.705 | INFO     | app.core.vision:analyze_food_image_with_search:34 - Identified items: ['Apple (1 medium)', 'Banana (1 small)']
2025-12-07 10:57:14.706 | INFO     | app.core.vision:analyze_food_image_with_search:37 - Step 2: Searching for items in parallel...
2025-12-07 10:57:14.706 | INFO     | app.core.vision:analyze_food_image_with_search:51 - Step 3: Synthesizing final response with advanced scripting...
2025-12-07 10:57:14.712 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:57:14.713 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 10:57:14.718 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:57:14.718 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: True
2025-12-07 10:57:14.722 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:57:14.722 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 10:57:14.722 | CRITICAL | app.core.vision:analyze_food_image_with_search:120 - Local Failsafe also failed: Local Down
2025-12-07 10:59:56.090 | INFO     | app.routers.food:analyze_food:25 - Received image analysis request: test.jpg. Deep Search: False
2025-12-07 10:59:56.098 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:59:56.098 | INFO     | app.core.vision:analyze_food_image_with_search:34 - Identified items: ['Apple (1 medium)', 'Banana (1 small)']
2025-12-07 10:59:56.098 | INFO     | app.core.vision:analyze_food_image_with_search:37 - Step 2: Searching for items in parallel...
2025-12-07 10:59:56.098 | INFO     | app.core.vision:analyze_food_image_with_search:51 - Step 3: Synthesizing final response with advanced scripting...
2025-12-07 10:59:56.104 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:59:56.105 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 10:59:56.110 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:59:56.110 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: True
2025-12-07 10:59:56.114 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 10:59:56.115 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 10:59:56.115 | CRITICAL | app.core.vision:analyze_food_image_with_search:120 - Local Failsafe also failed: Local Down
2025-12-07 11:01:13.738 | INFO     | app.routers.food:analyze_food:25 - Received image analysis request: test.jpg. Deep Search: False
2025-12-07 11:01:13.746 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:01:13.746 | INFO     | app.core.vision:analyze_food_image_with_search:34 - Identified items: ['Apple (1 medium)', 'Banana (1 small)']
2025-12-07 11:01:13.746 | INFO     | app.core.vision:analyze_food_image_with_search:37 - Step 2: Searching for items in parallel...
2025-12-07 11:01:13.747 | INFO     | app.core.vision:analyze_food_image_with_search:51 - Step 3: Synthesizing final response with advanced scripting...
2025-12-07 11:01:13.752 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:01:13.753 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 11:01:13.757 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:01:13.758 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: True
2025-12-07 11:01:13.762 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:01:13.763 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 11:01:13.763 | CRITICAL | app.core.vision:analyze_food_image_with_search:120 - Local Failsafe also failed: Local Down
2025-12-07 11:03:51.991 | INFO     | app.routers.food:analyze_food:25 - Received image analysis request: test.jpg. Deep Search: False
2025-12-07 11:03:51.999 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:03:51.999 | INFO     | app.core.vision:analyze_food_image_with_search:34 - Identified items: ['Apple (1 medium)', 'Banana (1 small)']
2025-12-07 11:03:52.000 | INFO     | app.core.vision:analyze_food_image_with_search:37 - Step 2: Searching for items in parallel...
2025-12-07 11:03:52.000 | INFO     | app.core.vision:analyze_food_image_with_search:51 - Step 3: Synthesizing final response with advanced scripting...
2025-12-07 11:03:52.006 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:03:52.006 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 11:03:52.016 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:03:52.016 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: True
2025-12-07 11:03:52.023 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:03:52.024 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 11:03:52.024 | CRITICAL | app.core.vision:analyze_food_image_with_search:120 - Local Failsafe also failed: Local Down
2025-12-07 11:05:19.494 | INFO     | app.routers.food:analyze_food:25 - Received image analysis request: test.jpg. Deep Search: False
2025-12-07 11:05:19.502 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:05:19.503 | INFO     | app.core.vision:analyze_food_image_with_search:34 - Identified items: ['Apple (1 medium)', 'Banana (1 small)']
2025-12-07 11:05:19.503 | INFO     | app.core.vision:analyze_food_image_with_search:37 - Step 2: Searching for items in parallel...
2025-12-07 11:05:19.503 | INFO     | app.core.vision:analyze_food_image_with_search:51 - Step 3: Synthesizing final response with advanced scripting...
2025-12-07 11:05:19.509 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:05:19.509 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 11:05:19.514 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:05:19.514 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud API Down. Switching to Local Failsafe. Deep Search: True
2025-12-07 11:05:19.518 | INFO     | app.core.vision:analyze_food_image_with_search:23 - Step 1: Identifying food items and estimating portions...
2025-12-07 11:05:19.518 | WARNING  | app.core.vision:analyze_food_image_with_search:115 - Cloud API/Search failed: Cloud Down. Switching to Local Failsafe. Deep Search: False
2025-12-07 11:05:19.518 | CRITICAL | app.core.vision:analyze_food_image_with_search:120 - Local Failsafe also failed: Local Down
